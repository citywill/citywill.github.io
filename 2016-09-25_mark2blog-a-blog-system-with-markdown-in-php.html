<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>破马张.fly Mark2blog，将markdown文档生成博客的php程序</title>
<link href="//cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css
" rel="stylesheet">
<link rel="stylesheet" href="src/github-markdown.css">
<style>
.container {max-width:800px;}
.head{
text-align: center;
border-bottom: 1px solid #eee;
padding:30px;
}
.head h1{
font-size:48px;
}
.head p{
font-size:24px;
}
</style>
</head>
<body>
<div class="head">
    <div class="container">
        <h1><a href="index.html">破马张.fly</a></h1>
        <p>by citywill</p>
        <p>Product Management and PHP Development</p>
    </div>
</div>
<div class="container" style="padding-top:30px;padding-bottom:30px;">
<div class="article">
    <div class="page-header">
        <h1>Mark2blog，将markdown文档生成博客的php程序 <small></small></h1>
        <p style="padding-top:24px;">posted 2016-09-25</p>
    </div>

    <article class="markdown-body">
        <p>mark2blog是用于将markdown文档生成博客的php程序。目前支持简单的模板，分页索引等功能。</p>
<h2>依赖</h2>
<ul>
<li><a href="https://github.com/erusev/parsedown">https://github.com/erusev/parsedown</a></li>
<li><a href="https://github.com/sindresorhus/github-markdown-css">https://github.com/sindresorhus/github-markdown-css</a></li>
</ul>
<h2>安装</h2>
<ul>
<li>下载代码后使用composer安装依赖</li>
<li>不使用composer也可以下载包含完整代码的zip压缩包</li>
<li>markdown文档中使用#标记作为博客标题</li>
</ul>
<h2>DEMO</h2>
<ul>
<li><a href="http://citywill.github.io">citywill.github.io</a></li>
</ul>
<h2>例子</h2>
<pre><code class="language-php">&lt;?php
include 'vendor/autoload.php';

define('APP_PATH', dirname(__FILE__));

$mark2blogConfig = array(
    'title' =&gt; 'mark2blog',
    'auth' =&gt; 'citywill',
    'description' =&gt; 'mark2blog是用于将md文档生成博客的php程序。目前支持简单的模板，分页索引等功能。',
    'mdPath' =&gt; APP_PATH . '/markdown',
    'htmlPath' =&gt; APP_PATH . '/blog',
    'tmplPath' =&gt; APP_PATH . '/template/default',
    'pageSize' =&gt; 10,
);

$mark2blog = new lib\mark2blog($mark2blogConfig);
$mark2blog-&gt;run();
$generated = $mark2blog-&gt;generated;

echo
'本次执行生成了' . $generated['article'] . '篇文章&lt;br&gt;',
'以及' . $generated['index'] . '个索引页&lt;br&gt;',
'生成目录为' . $mark2blog-&gt;htmlPath;</code></pre>
<h2>markdown</h2>
<ul>
<li>文档命名格式参考：<code>2015-08-31_note-agilely-with-workflowy.md</code></li>
<li>头信息必须在文件的开始部分，并且需要按照YAML的格式（目前不支持多层）写在两行三个（或以上）虚线之间。头信息可以在模板中通过$assign数组获取</li>
<li>文档首行#标注的标题，将作为title头信息处理</li>
</ul>
<pre><code class="language-markdown">---
title: 用 Workflowy 高效记笔记
---

常在知乎看到有人这么推销笔记技巧：

![糟糕的笔记](src/2015-08-31_note-agilely-with-workflowy_godness.jpg)</code></pre>
<p>或者</p>
<pre><code class="language-markdown">#用 Workflowy 高效记笔记

常在知乎看到有人这么推销笔记技巧：

![糟糕的笔记](src/2015-08-31_note-agilely-with-workflowy_godness.jpg)</code></pre>
<h2>todo list</h2>
<ul>
<li>生成rss</li>
<li>美化模板</li>
<li>about等单页的处理</li>
<li>临近文章导航</li>
<li>分类和标签</li>
<li><del>增加评论模块</del></li>
<li><del>解析头信息</del></li>
</ul>    </article >
</div>


<!-- 多说评论框 start -->
<div class="ds-thread" style="margin-top:30px;" data-thread-key="2016-09-25_mark2blog-a-blog-system-with-markdown-in-php" data-title="Mark2blog，将markdown文档生成博客的php程序" data-url="http://localhost:8000/2016-09-25_mark2blog-a-blog-system-with-markdown-in-php.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"pmzhang"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->



</div>
<div class="footer">
    <div class="container">
        <p style="text-align:right">
            blog generated by <a href="https://github.com/citywill/mark2blog">mark2blog</a>
        </p>
    </div>
</div>
</body>
</html>
